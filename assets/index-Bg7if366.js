import{d as M,aH as E,r as u,l as $,b as i,o as l,f as g,e as t,aK as B,aL as L,U as P,n as _,L as w,M as y,t as r,aE as p,_ as D}from"./index-C5NNhcj1.js";import{H as V,F as j}from"./Footer-B7WnFU2Q.js";const H={class:"posts-page"},q={class:"main-content"},N={class:"hero-section"},F={class:"container"},K={class:"search-container"},R={class:"search-box"},S={class:"posts-section"},T={class:"container"},A={key:0,class:"category-section"},I={class:"flex justify-between items-center"},U={class:"posts-list"},Z=["onClick"],G={class:"post-content"},Q={class:"post-title"},z={class:"post-meta"},J={class:"post-author"},O={class:"post-date"},W={class:"post-action"},X=["onClick"],Y={key:1,class:"category-section"},tt={class:"flex justify-between items-center"},et={class:"posts-list"},st=["onClick"],ot={class:"post-content"},nt={class:"post-title"},it={class:"post-meta"},lt={class:"post-author"},at={class:"post-date"},rt={class:"post-action"},ct=["onClick"],dt={key:2,class:"empty-state"},ut=M({name:"PortalPosts",__name:"index",setup(pt){const b=E(),a=u(""),h=u([]),c=u([]),d=u([]);async function C(){const{data:o,error:e}=await p.from("blog").select("*").eq("type","根思五分钟系列").limit(2);e?console.error("Error fetching five minute posts:",e):c.value=o||[];const{data:s,error:n}=await p.from("blog").select("*").eq("type","根思深度系列").limit(2);n?console.error("Error fetching deep posts:",n):d.value=s||[],h.value=[...c.value,...d.value]}$(()=>{C()});function f(o){o&&window.open(o,"_blank")}async function x(){if(a.value.trim()){console.log("搜索:",a.value);const{data:o,error:e}=await p.from("blog").select("*").eq("type","根思五分钟系列").ilike("title",`%${a.value}%`).limit(2);e?console.error("Error fetching five minute posts:",e):c.value=o||[];const{data:s,error:n}=await p.from("blog").select("*").eq("type","根思深度系列").ilike("title",`%${a.value}%`).limit(2);n?console.error("Error fetching deep posts:",n):d.value=s||[]}}function m(o){console.log("打开文章:",o.title)}function k(o){b.push(o)}return(o,e)=>(l(),i("div",H,[g(V),t("main",q,[t("div",N,[t("div",F,[e[4]||(e[4]=t("h1",{class:"hero-title"},"Blogs from GenSI",-1)),t("div",K,[t("div",R,[e[3]||(e[3]=t("div",{class:"search-icon"},[t("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M21 21L16.514 16.506L21 21ZM19 10.5C19 15.194 15.194 19 10.5 19C5.806 19 2 15.194 2 10.5C2 5.806 5.806 2 10.5 2C15.194 2 19 5.806 19 10.5Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),B(t("input",{type:"text",placeholder:"Press 'enter' to search",class:"search-input","onUpdate:modelValue":e[0]||(e[0]=s=>a.value=s),onKeyup:P(x,["enter"])},null,544),[[L,a.value]])])])])]),t("div",S,[t("div",T,[c.value.length>0?(l(),i("div",A,[t("div",I,[e[5]||(e[5]=t("h2",{class:"category-title"},"根思五分钟系列",-1)),t("a",{class:"read-all-link",onClick:e[1]||(e[1]=s=>k("/portal/postdetail?type=根思五分钟系列"))},"Read All")]),t("div",U,[(l(!0),i(w,null,y(c.value,(s,n)=>(l(),i("article",{key:`five-${n}`,class:"post-item",onClick:v=>m(s)},[t("div",G,[t("h3",Q,r(s.title),1),t("div",z,[t("span",J,"by "+r(s.create_by),1),t("span",O,r(s.time),1)])]),t("div",W,[t("button",{class:"action-button",onClick:v=>f(s.link_url)},e[6]||(e[6]=[t("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M7 17L17 7M17 7H7M17 7V17",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]),8,X)])],8,Z))),128))])])):_("",!0),d.value.length>0?(l(),i("div",Y,[t("div",tt,[e[7]||(e[7]=t("h2",{class:"category-title"},"根思深度系列",-1)),t("a",{class:"read-all-link",onClick:e[2]||(e[2]=s=>k("/portal/postdetail?type=根思深度系列"))},"Read All")]),t("div",et,[(l(!0),i(w,null,y(d.value,(s,n)=>(l(),i("article",{key:`deep-${n}`,class:"post-item",onClick:v=>m(s)},[t("div",ot,[t("h3",nt,r(s.title),1),t("div",it,[t("span",lt,"by "+r(s.create_by),1),t("span",at,r(s.time),1)])]),t("div",rt,[t("button",{class:"action-button",onClick:v=>f(s.link_url)},e[8]||(e[8]=[t("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M7 17L17 7M17 7H7M17 7V17",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]),8,ct)])],8,st))),128))])])):_("",!0),h.value.length===0?(l(),i("div",dt,e[9]||(e[9]=[t("p",null,"暂无文章",-1)]))):_("",!0)])])]),g(j)]))}}),ht=D(ut,[["__scopeId","data-v-44a638d1"]]);export{ht as default};
