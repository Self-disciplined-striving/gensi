import{d as k,aH as f,r as c,l as C,V as y,b as i,o as r,e,f as u,n as x,aK as M,aL as L,L as E,M as N,aF as b,t as B,aJ as P,aE as H,_ as K}from"./index-C5NNhcj1.js";import{H as V,F}from"./Footer-B7WnFU2Q.js";const I={class:"news-page"},S={class:"hero-bg"},T={class:"title-section"},j={class:"search-container"},D={class:"news-section"},$={class:"news-container"},R={class:"news-grid"},U=["onClick"],Z=["src","alt"],z={class:"card-content"},G=["innerHTML"],J={class:"card-footer"},q=["onClick"],A={class:"date"},O={class:"image-preview-container"},Q=["src","alt"],W=k({name:"PortalNews",__name:"index",setup(X){f();const a=c(""),d=c([]),n=c({show:!1,src:"",title:""});async function w(){const{data:o,error:s}=await H.from("news").select("*");return console.log(o),s?(console.error("Error fetching news:",s),[]):o||[]}function h(){a.value.trim()&&console.log("Searching for:",a.value)}function m(o){o.key==="Enter"&&h()}function p(o){window.open(o,"_blank")}const g=(o,s)=>{n.value.src=o,n.value.title=s,n.value.show=!0},l=()=>{n.value.show=!1},v=o=>{o.key==="Escape"&&n.value.show&&l()};return C(async()=>{const o=await w();d.value=o,document.addEventListener("keydown",v)}),y(()=>{document.removeEventListener("keydown",v)}),(o,s)=>(r(),i("div",I,[e("div",S,[u(V),e("div",T,[s[3]||(s[3]=e("h1",{class:"main-title"},"News from GenSI",-1)),e("div",j,[s[2]||(s[2]=e("div",{class:"search-icon"},[e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[e("path",{d:"M20.561 20.561L16.061 16.061M18.061 11.061C18.061 14.3747 15.3747 17.061 12.061 17.061C8.74728 17.061 6.06101 14.3747 6.06101 11.061C6.06101 7.74728 8.74728 5.06101 12.061 5.06101C15.3747 5.06101 18.061 7.74728 18.061 11.061Z",stroke:"#000000","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),M(e("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=t=>a.value=t),placeholder:"Press 'enter' to search",class:"search-input",onKeypress:m},null,544),[[L,a.value]])])])]),e("div",D,[e("div",$,[e("div",R,[(r(!0),i(E,null,N(d.value,t=>(r(),i("div",{key:t.id,class:b(["news-card",{large:t.height===627}])},[e("div",{class:"card-image",onClick:_=>g(t.cover,t.content)},[e("img",{src:t.cover,alt:`News ${t.id}`},null,8,Z),s[4]||(s[4]=e("div",{class:"image-overlay"},[e("svg",{class:"preview-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M1 12C1 12 5 4 12 4C19 4 23 12 23 12C23 12 19 20 12 20C5 20 1 12 1 12Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),e("circle",{cx:"12",cy:"12",r:"3",stroke:"currentColor","stroke-width":"2"})]),e("span",null,"点击预览")],-1))],8,U),e("div",z,[e("h3",{class:"card-title",innerHTML:t.content},null,8,G),e("div",J,[e("a",{href:"#",class:"read-more",onClick:_=>p(t.news_link)},"Read more",8,q),e("span",A,B(t.time),1)])])],2))),128))])])]),u(F),n.value.show?(r(),i("div",{key:0,class:"image-preview-modal",onClick:l},[e("div",O,[e("div",{class:"image-preview-header"},[s[6]||(s[6]=e("h3",{class:"image-preview-title"},"新闻图片预览",-1)),e("button",{class:"close-btn",onClick:l},s[5]||(s[5]=[e("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M18 6L6 18M6 6L18 18",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]))]),e("div",{class:"image-preview-content",onClick:s[1]||(s[1]=P(()=>{},["stop"]))},[e("img",{src:n.value.src,alt:n.value.title,class:"preview-image"},null,8,Q)])])])):x("",!0)]))}}),se=K(W,[["__scopeId","data-v-e626a594"]]);export{se as default};
