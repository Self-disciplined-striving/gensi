import{d as y,aH as x,r as d,l as C,a as b,aE as u,b as r,o as l,f as _,e,t as c,aK as M,aL as L,U as P,n as B,L as V,M as E,_ as H}from"./index-C5NNhcj1.js";import{H as N,F as $}from"./Footer-B7WnFU2Q.js";const F={class:"posts-page"},K={class:"main-content"},j={class:"hero-section"},q={class:"container"},D={class:"hero-title"},R={class:"search-container"},S={class:"search-box"},T={class:"posts-section"},U={class:"container"},Z={class:"category-section"},I={class:"posts-list"},Q=["onClick"],z={class:"post-content"},A={class:"post-title"},G={class:"post-meta"},J={class:"post-author"},O={class:"post-date"},W={class:"post-action"},X=["onClick"],Y={key:0,class:"empty-state"},ee=y({name:"PortalPosts",__name:"index",setup(te){const p=x(),a=d(""),n=d("");C(()=>{a.value=p.currentRoute.value.query.type,v()});const i=d([]),h=b(()=>i.value.filter(s=>s.type===a.value));async function v(){const{data:s,error:t}=await u.from("blog").select("*").order("time",{ascending:!1});console.log("data",s),t?console.error("Error fetching posts:",t):i.value=s}function f(s){s&&window.open(s,"_blank")}async function m(){if(n.value.trim()){console.log("搜索:",n.value);const{data:s,error:t}=await u.from("blog").select("*").eq("type",a.value).ilike("title",`%${n.value}%`).order("time",{ascending:!1});console.log("data",s),t?console.error("Error fetching posts:",t):i.value=s}}function g(s){console.log("打开文章:",s.title)}return(s,t)=>(l(),r("div",F,[_(N),e("main",K,[e("div",j,[e("div",q,[e("h1",D,c(a.value),1),e("div",R,[e("div",S,[t[1]||(t[1]=e("div",{class:"search-icon"},[e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M21 21L16.514 16.506L21 21ZM19 10.5C19 15.194 15.194 19 10.5 19C5.806 19 2 15.194 2 10.5C2 5.806 5.806 2 10.5 2C15.194 2 19 5.806 19 10.5Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),M(e("input",{type:"text",placeholder:"Press 'enter' to search",class:"search-input","onUpdate:modelValue":t[0]||(t[0]=o=>n.value=o),onKeyup:P(m,["enter"])},null,544),[[L,n.value]])])])])]),e("div",T,[e("div",U,[e("div",Z,[e("div",I,[(l(!0),r(V,null,E(h.value,(o,w)=>(l(),r("article",{key:`five-${w}`,class:"post-item",onClick:k=>g(o)},[e("div",z,[e("h3",A,c(o.title),1),e("div",G,[e("span",J,"by "+c(o.create_by),1),e("span",O,c(o.time),1)])]),e("div",W,[e("button",{class:"action-button",onClick:k=>f(o.link_url)},t[2]||(t[2]=[e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M7 17L17 7M17 7H7M17 7V17",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]),8,X)])],8,Q))),128))])]),i.value.length===0?(l(),r("div",Y,t[3]||(t[3]=[e("p",null,"暂无文章",-1)]))):B("",!0)])])]),_($)]))}}),ne=H(ee,[["__scopeId","data-v-291a8381"]]);export{ne as default};
